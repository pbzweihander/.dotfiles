#
# basic commands
#

alias rm='rm -i'
alias rmf='rm -f'
alias rmr='rm -ir'
alias rmrf='rm -rf'
alias cp='cp -i'
alias cpr='cp -ir'
alias cpf='cp -f'
alias cprf='cp -rf'
alias mv='mv -i'
alias mvf='mv -f'

# color=auto
alias grep='grep --color=auto'
alias fgrep='fgrep --color=auto'
alias egrep='egrep --color=auto'
alias diff='diff --color=auto'

# change directory
alias ccd='cd ..'
alias cccd='cd ../..'
alias ccccd='cd ../../..'
alias cdd='cd $OLDPWD'

# lsd or exa or ls
if hash lsd 2> /dev/null; then
    alias l='lsd --group-dirs first -- '
    alias ls='lsd -F --group-dirs first -- '
    alias la='lsd -aF --group-dirs first -- '
    alias ll='lsd -lF --group-dirs first -- '
    alias lla='lsd -alF --group-dirs first -- '
    alias lt='lsd --tree -F --group-dirs first -- '
    alias lta='lsd --tree -aF --group-dirs first -- '
elif hash exa 2>/dev/null; then
    alias l='exa --group-directories-first'
    alias ls='exa -F --group-directories-first'
    alias la='exa -aF --group-directories-first'
    alias ll='exa -lgF --group-directories-first'
    alias lla='exa -algF --group-directories-first'
    alias lt='exa -TF --group-directories-first'
    alias lta='exa -TFa --group-directories-first'
else
    alias l='ls --color=auto --group-directories-first'
    alias ls='ls --color=auto --group-directories-first'
    alias la='ls --color=auto --group-directories-first -AF'
    alias ll='ls --color=auto --group-directories-first -lF'
    alias lla='ls --color=auto --group-directories-first -AlF'
    alias lh='ls --color=auto --group-directories-first -AlhF'
fi

# no vi!
if hash vim 2>/dev/null; then
    alias vi=vim
fi

# systemctl
alias sctl='sudo systemctl'
alias jctl='sudo journalctl'

#
# Docker
#

alias dk="sudo docker"

# docker-compose
alias dc="sudo docker-compose"

# docker-swarm
alias ds="sudo docker service"
alias dst="sudo docker stack"
alias dsw="sudo docker swarm"

# dockviz
alias dockviz="sudo docker run -it --rm -v /var/run/docker.sock:/var/run/docker.sock nate/dockviz"

# utilities
musl-build() {
    sudo docker run \
        -v cargo-cache:/root/.cargo \
        -v "$PWD:/volume" \
        --rm -it clux/muslrust cargo build --release
    sudo chown -R $USER:$USER target
}

howto() {
    sudo docker run --rm -it pbzweihander/howto $*
}

rd() {
    cargo doc
    PORT=${*:-8080}
    BASENAME=$(basename "$PWD")
    if ! sudo docker ps | grep $BASENAME-doc > /dev/null; then
        sudo docker run \
            --rm -itd \
            -p $PORT:8080 \
            -v $PWD/target/doc:/tmp \
            --name $BASENAME-doc \
            svenstaro/miniserve:alpine /tmp
    fi
    xdg-open http://localhost:$PORT/$(echo $BASENAME | sed -e 's/-/_/g')/index.html || true
}

#
# Gnome
#

# nautilus
alias n.='nautilus . &'

# evince
ev() {
    evince $* &
}

#
# etc
#

# arch package managers
alias ya=yay
alias pk=yay
alias pc=pacman

# vscode
alias c.='code . &'

# godot
alias g.='godot-mono -e > /dev/null 2> /dev/null &'

# micro
alias mi=micro

# amp
alias am=amp

# xclip
alias xc='xclip -i -selection clipboard'
alias xp='xclip -o -selection clipboard'

# hangul-misstypings
alias ㅊㅇ=cd
alias ㅣㄴ=ls
